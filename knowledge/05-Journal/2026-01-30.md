---
created: 2026-01-30
tags: [journal, phase/implementation]
---

# 2026-01-30: Dokumentation, Dashboard und Vault-Refactoring

## Ziel

1. Dokumentationsstruktur für Lernzwecke überarbeiten
2. Dashboard implementieren (Phase 0-5)
3. Excel-Daten zu JSON konvertieren
4. Wissen in Obsidian Vault strukturieren

---

## Durchgeführte Aktivitäten

### Dokumentationsstruktur

Neue Dokumente erstellt:
- README.md als Einstiegspunkt
- [[Glossar]] für KI-Begriffe
- [[03-Hypothesen/index|HYPOTHESES.md]] mit 4 Hypothesen (H1-H4)

→ Learning: [[L004-Lehrbeispiel-Struktur]]

### Dashboard-Implementierung

Komplette SPA erstellt:

```
docs/
├── index.html
├── css/ (tokens, layout, components)
└── js/
    ├── app.js
    ├── core/ (eventBus, state, logger, router)
    ├── data/ (metadata, dataLoader)
    └── components/ (FilterPanel, ChartContainer, DataTable, ReportPanel)
```

Implementierte Features:
- Filter-System (F1-F4)
- Chart.js Visualisierung (V1-V3)
- Sortierbare Tabelle mit Pagination
- LLM-Berichtsgenerierung (R1-R6)
- URL-Router für teilbare Links (F2)
- Accordion-Sidebar für Uni-Auswahl
- Error Handling UI mit Retry-Buttons

→ Learning: [[L006-Vanilla-JS-Lernbarkeit]], [[L007-Demo-Daten-Fallback]]

### Excel-zu-JSON Konvertierung

Python-Skript erstellt: `scripts/convert_excel_to_json.py`

**Ergebnis:**
- 17 von 19 Dateien erfolgreich konvertiert
- ~1000 Datenpunkte
- 22 Universitäten, Jahre 2021-2024

### Vault-Refactoring

Wissensdokumente in Obsidian-Struktur umgewandelt:

```
knowledge/
├── 00-Meta/          # Projekt-Übersicht
├── 01-Domaene/       # Fachwissen
├── 02-Design/        # UI-Entscheidungen
├── 03-Hypothesen/    # User Stories
├── 04-Learnings/     # Destillierte Erkenntnisse
└── 05-Journal/       # Chronologisches Log
```

→ Learning: [[L008-Vault-Refactoring]]

### Phase 1: Infrastructure für erweiterte Visualisierungen

Vorbereitung für 4 neue Visualisierungen + Promptotyping-Tutorial:

**eventBus.js erweitert:**
- `VIZ_CHANGE`, `VIZ_READY` Events
- `TUTORIAL_TOGGLE`, `TUTORIAL_SECTION_CHANGE`, `TUTORIAL_BADGE_CLICK` Events

**state.js erweitert:**
- `vizType`: 'line' | 'smallMultiples' | 'heatmap' | 'ranking'
- `tutorialMode`, `tutorialSection`, `viewedLearnings`
- `saveTutorialProgress()` / `loadTutorialProgress()` für localStorage

**router.js erweitert:**
- URL-Parameter `?viz=heatmap&tutorial=filters`
- Event-Subscriptions für VIZ_CHANGE und TUTORIAL_TOGGLE

**Neue Dateien:**
```
docs/js/visualizations/
├── VizFactory.js      # Factory Pattern für Visualisierungen
└── LineChart.js       # Extrahiert aus ChartContainer
```

### Phase 2: Erweiterte Visualisierungen

Vier neue Visualisierungstypen implementiert:

**VizSelector.js (Sub-Navigation):**
- Button-Gruppe zum Wechseln zwischen Chart-Typen
- SVG-Icons für jeden Typ
- Reaktiv: synchronisiert mit State und URL

**SmallMultiples.js:**
- 5-Panel Grid (je ein Chart pro Uni-Typ)
- Gemeinsame Y-Achse für Vergleichbarkeit
- Click-to-filter Interaktion

**Heatmap.js (Custom Canvas):**
- Matrix: Universitäten × Jahre
- Farbintensität basierend auf normalisiertem Wert
- Hover-Tooltip mit Details

**RankingChart.js:**
- Horizontale Balken, sortiert nach Wert
- Jahr-Dropdown zum Umschalten
- Animierte Übergänge

**ChartContainer.js refactored:**
- Delegiert an VizFactory
- Reagiert auf VIZ_CHANGE Events

```
docs/js/visualizations/
├── VizFactory.js
├── LineChart.js
├── SmallMultiples.js
├── Heatmap.js
└── RankingChart.js
```

### Phase 3: Promptotyping-Tutorial mit Vault-Integration

Das Dashboard dokumentiert jetzt seinen eigenen Entstehungsprozess:

**VaultBrowser.js:**
- Lädt Markdown-Dateien aus `knowledge/`
- Definiert Promptotyping-Phasen und Dokumentenfunktionen
- YAML-Frontmatter-Parsing

**MarkdownRenderer.js:**
- Konvertiert Markdown zu HTML
- Unterstützt Obsidian-Links `[[...]]`
- Tabellen, Code-Blöcke, Listen

**PromptotypingPage.js:**
- Tutorial-UI mit Phase-Navigation
- Erklärt die Funktion jedes Dokuments
- Lernziele pro Kategorie

**Dokumentenstruktur nach Promptotyping-Phase:**

| Phase | Kategorie | Funktion |
|-------|-----------|----------|
| Foundation | 00-Meta | Methodendefinition |
| Preparation | 01-Domaene | Domänenwissen sammeln |
| Exploration | 03-Hypothesen | User Stories formulieren |
| Destillation | 02-Design | UI-Prinzipien ableiten |
| Meta-Learning | 04-Learnings | Übertragbare Erkenntnisse |
| Chronicle | 05-Journal | Prozessdokumentation |

```
docs/js/tutorial/
├── VaultBrowser.js
├── MarkdownRenderer.js
└── PromptotypingPage.js
```

### Phase 4: UI-Refactoring

Grundlegende Umstrukturierung der Navigation:

**Globale Top-Navigation:**
- Drei Hauptbereiche: Dashboard, Promptotyping, About
- Promptotyping aus Daten-Tabs entfernt (war falsch platziert)
- Sidebar nur auf Dashboard-Seite sichtbar

**About-Seite:**
- Build-Informationen (Version, Datum, Technologie)
- Architektur-Übersicht
- Credits und Projekt-Kontext

**Verbessertes Chart-Layout:**
- VizSelector prominenter platziert mit "Ansicht:"-Label
- Bessere Raumnutzung (flex-basiert)
- Charts füllen verfügbaren Platz

**Router-Erweiterung:**
- Neuer URL-Parameter `?page=promptotyping`
- PAGE_CHANGE Event im EventBus

**Geänderte Dateien:**
- `index.html`: Page-System, Top-Nav, About-Content
- `css/layout.css`: Top-Nav, Page-System, About-Styles
- `css/visualizations.css`: VizSelector-Neudesign
- `js/app.js`: initTopNav(), Seiten-Logik
- `js/core/eventBus.js`: PAGE_CHANGE Event
- `js/core/state.js`: activePage Property
- `js/core/router.js`: Page-Parameter, activatePage()
- `js/components/VizSelector.js`: "Ansicht:"-Label

---

## Entscheidungen

| Entscheidung | Begründung |
|--------------|------------|
| Vanilla JavaScript | Lernbarkeit für Forster |
| ES6 Modules | Keine Build-Tools nötig |
| Demo-Daten-Fallback | Robustheit bei fehlenden JSON |
| Obsidian Vault | Skalierbare Wissensstruktur |
| VizFactory Pattern | Einfaches Wechseln zwischen Chart-Typen |
| Tutorial in localStorage | Fortschritt zwischen Sessions erhalten |
| Heatmap als Custom Canvas | Chart.js hat keine native Heatmap-Unterstützung |
| Vault als Tutorial-Quelle | Markdown-Dokumente dynamisch laden statt statischem Content |
| Phase-basierte Navigation | Struktur erklärt Promptotyping-Methodik |
| Globale Top-Navigation | Promptotyping ist Meta-Funktion, kein Daten-Tab |
| About-Seite | Transparenz über Technologie und Build-Info |
| Flex-basiertes Chart-Layout | Charts nutzen verfügbaren Platz optimal |
| Tutorial-Badges statt Tour | Nutzer erkunden selbstgesteuert |
| Learning Paths | Progressive Disclosure vermeidet Überforderung |
| Annotation-Modal | Just-in-Time Information bei Bedarf |

---

## Commits

1. `feat: Implement Wissensbilanz Dashboard (Phase 0-5)`
2. `refactor: Add centralized logging system and fix caching`
3. `feat: Add Excel-to-JSON converter and real data`
4. `refactor: Restructure knowledge as Obsidian vault`
5. `feat: Add visualization and tutorial infrastructure (Phase 1)`
6. `feat: Add extended visualizations with VizSelector (Phase 2)`
7. `feat: Add Promptotyping tutorial with Obsidian vault integration (Phase 3)`
8. `feat: Add global top navigation and About page (Phase 4)`
9. `feat: Add Annotated Interface with Tutorial-Badges (Phase 5)`

---

## Nächste Schritte

### Abgeschlossen
- [x] Vault-Refactoring committen
- [x] Alte Dokumente archivieren
- [x] Promptotyping-Tutorial im Dashboard integrieren
- [x] UI-Refactoring: Top-Navigation + About-Seite
- [x] Datenquellen.md mit Excel-Analyse aktualisiert
- [x] Kennzahlen.md mit Extended Views ergänzt

### Phase 5: Annotated Interface - Tutorial-Badges System

Das Dashboard lehrt jetzt aktiv Promptotyping durch ein interaktives Badge-System:

**Kernproblem gelöst:**
- Dashboard dokumentierte Promptotyping, lehrte aber nicht aktiv
- Keine Verbindung zwischen UI-Elementen und ihrer Entstehungsgeschichte
- Nutzer lasen passiv statt aktiv zu lernen

**Drei-Schichten-Architektur:**

```
Layer 3: Promptotyping-Tab (existiert)
    ↑ "Dokumentation lesen" Link
Layer 2: Annotation-Modal (neu)
    ↑ Klick auf Badge
Layer 1: Tutorial-Badges am Dashboard (neu)
```

**Neue Dateien:**

```
docs/js/tutorial/
├── TutorialBadgeSystem.js   # DESIGN_ANNOTATIONS + Koordination
├── TutorialBadge.js         # Einzelne Badge-Komponente
└── AnnotationModal.js       # Entstehungsgeschichte-Modal

docs/css/
└── tutorial-badges.css      # Badge + Modal Styles
```

**Design-Annotations implementiert:**

| Code | Name | Kategorie | Phase |
|------|------|-----------|-------|
| F1 | Progressive Offenlegung | filter | destillation |
| F2 | URL-Persistenz | filter | destillation |
| F3 | Kategorische Gruppierung | filter | destillation |
| F4 | Kontextuelle Stats-Bar | filter | exploration |
| V1 | Semantische Farbkodierung | viz | destillation |
| V3 | Multiple Linked Views | viz | exploration |
| R1 | Explizite Quellenattribution | report | destillation |
| R3 | Template-basierte Führung | report | exploration |
| R5 | User-Editierbarkeit | report | destillation |
| L006 | Vanilla JS Lernbarkeit | method | meta |

**Learning Paths (Progressive Disclosure):**

| Level | Name | Badges | Freischaltung |
|-------|------|--------|---------------|
| 1 | Basics | F1, F3, F4, V1 | Sofort |
| 2 | Intermediate | F2, V3, R1, R3 | Nach 3 Basics |
| 3 | Advanced | R5, L006 | Nach 3 Intermediate |

**Wissenschaftliche Begründung:**

| Lerntheorie | Anwendung |
|-------------|-----------|
| Situated Learning (Lave & Wenger) | Badges im Kontext der UI-Elemente |
| Cognitive Apprenticeship (Collins) | Progressive Disclosure via Levels |
| Just-in-Time Learning | Click-to-reveal Modals |
| Narrative Learning | Entstehungsgeschichte mit Hypothese → Insight |

**Features:**
- Tutorial-Toggle in Promptotyping-Sidebar
- Progress-Bar mit Level-Anzeige
- Puls-Animation für ungesehene Badges
- Level-Up Toast-Notifications
- Modal mit "Dokumentation lesen" Link

**Erweiterte Core-Module:**
- `eventBus.js`: +3 Events (TUTORIAL_MODE_CHANGE, ANNOTATION_VIEWED, TUTORIAL_LEVEL_UP)
- `state.js`: +2 Properties (tutorialLevel, completedAnnotations)
- `app.js`: Tutorial-System Initialisierung + Level-Up Handler

→ Learning: Annotated Interface macht Promptotyping erlebbar statt nur dokumentiert

---

### Daten-Erweiterungen

**Konvertierte Kennzahlen:**
- [x] 3-A-1: Studierende im Doktoratsstudium (UM, 2021-2023)
- [x] 3-A-3: Doktoratsabschlüsse (21 Unis, 2020-2022)

**Neue Skripte:**
- `scripts/convert_3a1.py` - Spezialformat für 3-A-1
- `scripts/convert_3a3.py` - Spezialformat für 3-A-3

**Sparklines in DataTable:**
- Mini-Zeitreihen-Visualisierung pro Universität
- SparklineRenderer.js mit Canvas-basiertem Rendering

---

### Offen - Daten
- [ ] Extended Views implementieren (Kennzahl-Kombinationen)
- [ ] Berechnete Kennzahlen (Beschäftigungsgrad, Betreuungsverhältnis)

### Offen - UI
- [x] Tutorial-Badges an UI-Elementen hinzufügen
- [x] Sparklines in DataTable integrieren
- [ ] Coordinated Views mit Brushing (V2)
- [ ] Badge-Platzierung in FilterPanel, ChartContainer, ReportPanel

### Offen - Validierung
- [ ] Hypothesen validieren
- [ ] Tutorial-System End-to-End testen

---

*Learnings: [[L004-Lehrbeispiel-Struktur]], [[L005-Hypothesen-Explizit]], [[L006-Vanilla-JS-Lernbarkeit]], [[L007-Demo-Daten-Fallback]], [[L008-Vault-Refactoring]], [[L009-Annotated-Interface]]*
